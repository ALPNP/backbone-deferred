(function(){var a;a=this,a.Backbone.Deferred=Backbone.Deferred={version:"0.4.1"}}).call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};Backbone.Deferred.Reject=function(){function a(a,b){this.xhr=a,this.options=b}return a.prototype.getXhr=function(){return this.xhr},a.prototype.getOptions=function(){return this.options},a}(),Backbone.Deferred.RejectModel=function(a){function c(a,b,d){this.model=a,this.response=b,this.options=d,c.__super__.constructor.call(this,this.response,this.options)}return b(c,a),c.prototype.getModel=function(){return this.model},c}(Backbone.Deferred.Reject),Backbone.Deferred.RejectCollection=function(a){function c(a,b,d){this.collection=a,this.response=b,this.options=d,c.__super__.constructor.call(this,this.response,this.options)}return b(c,a),c.prototype.getCollection=function(){return this.collection},c}(Backbone.Deferred.Reject)}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};Backbone.Deferred.Resolve=function(){function a(a,b){this.response=a,this.options=b}return a.prototype.getResponse=function(){return this.response},a.prototype.getOptions=function(){return this.options},a}(),Backbone.Deferred.ResolveModel=function(a){function c(a,b,d){this.model=a,this.response=b,this.options=d,c.__super__.constructor.call(this,this.response,this.options)}return b(c,a),c.prototype.getModel=function(){return this.model},c}(Backbone.Deferred.Resolve),Backbone.Deferred.ResolveCollection=function(a){function c(a,b,d){this.collection=a,this.response=b,this.options=d,c.__super__.constructor.call(this,this.response,this.options)}return b(c,a),c.prototype.getCollection=function(){return this.collection},c}(Backbone.Deferred.Resolve)}.call(this),function(){Backbone.Deferred.Promise=function(){function a(){this.deferred=$.Deferred()}return a.prototype.get=function(){return this.deferred},a.prototype.resolve=function(a){return this.deferred.resolve(a),this},a.prototype.reject=function(a){return this.deferred.reject(a),this},a.prototype.promise=function(){return this.deferred.promise()},a}()}.call(this),function(){var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};Backbone.Deferred.Model=function(b){function d(){return a=d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype.fetch=function(a){var b,c,e,f;return null==a&&(a={}),b=new Backbone.Deferred.Promise,f=_.isFunction(a.success)?a.success:null,e=_.isFunction(a.error)?a.error:null,c={success:function(a,c,d){return null!=f&&f.call(this,a,c,d),b.resolve(new Backbone.Deferred.ResolveModel(a,c,d))},error:function(a,c,d){return null!=e&&e.call(this,a,c,d),b.reject(new Backbone.Deferred.RejectModel(a,c,d))}},_.extend(a,c),d.__super__.fetch.call(this,a),b.promise()},d.prototype.save=function(a,b,c){var e,f,g,h,i;return null==c&&(c={}),f=new Backbone.Deferred.Promise,e={},null!=a&&_.isObject(a)?(e=a,c=_.extend({},b)):_.isString(a)?e[a]=b:(a=null,b=null),i=_.isFunction(c.success)?c.success:null,h=_.isFunction(c.error)?c.error:null,g={success:function(a,b,c){return null!=i&&i.call(this,a,b,c),f.resolve(new Backbone.Deferred.ResolveModel(a,b,c))},error:function(a,b,c){return null!=h&&h.call(this,a,b,c),f.reject(new Backbone.Deferred.RejectModel(a,b,c))}},_.extend(c,g),d.__super__.save.call(this,e,c),f.promise()},d.prototype.destroy=function(a){var b,c,e,f;return null==a&&(a={}),b=new Backbone.Deferred.Promise,f=_.isFunction(a.success)?a.success:null,e=_.isFunction(a.error)?a.error:null,c={success:function(a,c,d){return null!=f&&f.call(this,a,c,d),b.resolve(new Backbone.Deferred.ResolveModel(a,c,d))},error:function(a,c,d){return null!=e&&e.call(this,a,c,d),b.reject(new Backbone.Deferred.RejectModel(a,c,d))}},_.extend(a,c),d.__super__.destroy.call(this,a),b.promise()},d}(Backbone.Model)}.call(this),function(){var a,b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};Backbone.Deferred.Collection=function(b){function d(){return a=d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype.fetch=function(a){var b,c,e,f;return null==a&&(a={}),b=new Backbone.Deferred.Promise,f=_.isFunction(a.success)?a.success:null,e=_.isFunction(a.error)?a.error:null,c={success:function(a,c,d){return null!=f&&f.call(this,a,c,d),b.resolve(new Backbone.Deferred.ResolveCollection(a,c,d))},error:function(a,c,d){return null!=e&&e.call(this,a,c,d),b.reject(new Backbone.Deferred.RejectCollection(a,c,d))}},_.extend(a,c),d.__super__.fetch.call(this,a),b.promise()},d}(Backbone.Collection)}.call(this);